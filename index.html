<!doctype HTML>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <link rel="stylesheet" href="index.css" />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet"> 
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
  <script src="https://code.jquery.com/jquery-latest.min.js"></script>
  <script src="lodash.js"></script>
  <script src="scanner.js"></script>
  <script src="prereqCheck.js"></script>
</head>

<body>
    <div id="prereq">
      <!-- BG Stars -->
      <img id="left-star" src="Content/star.png" class="antihighlight"/>
      <img id="right-star" src="Content/star.png" class="antihighlight"/>

      <!-- Where we ask for camera permissions -->
      <div id="allowance-screen" class="antihighlight">
        <div id="allowance-text-area">
          <p id="allowance-text">Please Allow Camera Access</p>
        </div>
      </div>

      <!-- If the site is opened on desktop, then this div will be shown -->
      <!-- NOTE: This could use an icon image to make it look a bit more sleek -->
      <div id="desktop-screen" class="invisible" class="antihighlight">
        <div id="desktop-text-area">
          <p id="desktop-text">Please Open With A Mobile Device</p>
        </div>
      </div>

      <!-- If the page is opened in an in-app browser this div will be shown -->
      <div id="inapp-screen" class="invisible">
        <a id="another-browser-a" href="">
          <img id="play-button" src="Content/playButton.png" />
        </a>

        <div id="inapp-text-area">
          <p id="launch-text">TAP TO LAUNCH</p>
          <p id="different-browser-text">Please select another browser</p>
        </div>
      </div>

      <!-- If the user denies media ( stream video ) permissions, then this div will be show -->
      <div id="unaccessible-media-screen" class="invisible antihighlight">
        <div id="media-text-area">
          <p id="access-text">No Camera Access</p>
          <p id="access-description-text">Please refresh the page</p>
        </div>
      </div>
    </div>

    <!-- While the image tracking data is being loaded this div will be shown -->
    <div id="loading-screen" class="antihighlight">
      <!-- https://github.com/lukehaas/css-loaders -->
      <div class="loader">Loading...</div>
    </div>

    <!-- This is the div that contains the video that is displayed after the user scans a picture -->
    <div id = "video-wrap" class="closed antihighlight">
      <div id="video-screen">
        <!-- This is the close 'X' that appears at the top of the video div  -->
        <img id="vs-close-button" src="Content/closeButtonBevel.png" onclick="CloseVideoScreen()"/>
        <video id="vs-video" controls>
          <source id="vs-video-source" src="" type='video/mp4'/>
        </video>
      </div>
    </div>

    <img id="scan-overlay-image" src="Content/arOverlay.png" class="antihighlight"/>

    <!-- This is the ar scene we will be using to search for the various NFT images and calling the associated events -->
    <a-scene arjs="trackingMethod: best; debugUIEnabled: false;" vr-mode-ui="enabled: false">
        <a-nft type="nft" id="frogstory-img" url="Content/frogStory" frogstoryevents>
        </a-nft>

        <a-marker preset="kanji" id="marker-kanji" kanjievents>
        </a-marker>

        <a-entity camera></a-entity>
    </a-scene>
</body>

</html>